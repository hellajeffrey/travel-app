<div class="flights-container">
    <div class="button-group">
        <button class="btn btn-default" ng-click="$ctrl.toggleFlightStatus('oneWay')">One Way</button>
        <button class="btn btn-default" ng-click="$ctrl.toggleFlightStatus('roundTrip')">Round Trip</button>
    </div>
    <form ng-submit="$ctrl.getFlight()" role="form">
        <h2>Flight Search</h2>
        <flight-card flight="$ctrl.origin"></flight-card>
        <br>
        <div class="form-group">
            <label for="">Origin</label>
            <input ng-model="$ctrl.origin">

            <label for="">Destination</label>
            <input ng-model="$ctrl.destination">

            <label for="">Date</label>
            <input ng-model="$ctrl.date">

            <label for="">Max Stops</label>
            <input ng-model="$ctrl.maxStops">

            <label for="">Travelers</label>
            <input ng-model="$ctrl.passengers">

        </div>

        <div class="form-group" ng-show="$ctrl.roundTrip.show">
            <label for="">Return Date</label>
            <input ng-model="$ctrl.roundTrip.date">

        </div>
            <button type="submit" class="btn btn-primary">Search</button>

    </form>
        <div ng-show="$ctrl.selectedFlights.length">
        <h4 >Outbound Flight: {{$ctrl.selectedFlights[0].leg[0].origin}} -
                                                        {{$ctrl.selectedFlights[0].leg[0].destination}} |
                                                        Total Time: {{$ctrl.selectedFlights[0].duration | duration}}

        </h4>
        <h4 ng-show="$ctrl.selectedFlights[1]">Inbound Flight: {{$ctrl.selectedFlights[1].leg[0].origin}} -
                                                        {{$ctrl.selectedFlights[1].leg[0].destination}} |
                                                        Total Time: {{$ctrl.selectedFlights[1].duration | duration}}
        </h4>

    </div>

    <div ng-show="$ctrl.isLoading" class="spinner">
      <div class="dot1"></div>
      <div class="dot2"></div>
    </div>

    <div>
        <ul class="list-group" ng-repeat="trip in $ctrl.results">
            <li class="list-group-item price">
                Total: {{trip.pricing[0].saleTotal.substring(3) | currency}}
            </li>
            <li class="list-group-item">
                <ul class="list-group">
                    <div ng-hide="$ctrl.roundTrip.showFlights">
                        <li class="list-group-item" ng-repeat="flight in trip.slice[0].segment" ng-click="$ctrl.selectOutgoingFlight(flight)">
                            <p>Origin: {{flight.leg[0].origin}}</p>
                            <br>
                            <p>Destination: {{flight.leg[0].destination}}</p>
                            <br>
                            <p>Departs: {{flight.leg[0].departureTime | date: 'medium'}}</p>
                            <br>
                            <p>Arrives: {{flight.leg[0].arrivalTime | date: 'medium'}}</p>
                            <br>
                            <p>Total Flight Time: {{flight.duration | duration}}</p>
                            <br>
                            <p ng-show="flight.connectionDuration">Layover Duration: {{flight.connectionDuration}} minutes</p>
                        </li>
                    </div>
                    <div ng-show="$ctrl.roundTrip.showFlights">
                        <li class="list-group-item" ng-repeat="flight in trip.slice[1].segment" ng-click="$ctrl.selectIncomingFlight(flight)">
                            <p>Origin: {{flight.leg[0].origin}}</p>
                            <br>
                            <p>Destination: {{flight.leg[0].destination}}</p>
                            <br>
                            <p>Departs: {{flight.leg[0].departureTime | date: 'medium'}}</p>
                            <br>
                            <p>Arrives: {{flight.leg[0].arrivalTime | date: 'medium'}}</p>
                            <br>
                            <p>Total Flight Time: {{flight.duration | duration}}</p>
                            <br>
                            <p ng-show="flight.connectionDuration">Layover Duration: {{flight.connectionDuration}} minutes</p>
                        </li>
                    </div>
                </ul>
            </li>
        </ul>

    </div>
